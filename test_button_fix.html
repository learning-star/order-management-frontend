<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‰é’®ä¿®å¤æµ‹è¯•é¡µé¢</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; }
        .test-table { width: 100%; border-collapse: collapse; }
        .test-table th, .test-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .action-btn { margin: 2px; padding: 5px 10px; cursor: pointer; }
        .view { background: #007bff; color: white; }
        .edit { background: #28a745; color: white; }
        .delete { background: #dc3545; color: white; }
        .status { color: green; font-weight: bold; }
    </style>
</head>
<body>
    <h1>å‰ç«¯æŒ‰é’®ä¿®å¤éªŒè¯</h1>
    
    <div class="test-section">
        <h2>ğŸ”§ ä¿®å¤å†…å®¹æ€»ç»“</h2>
        <ul>
            <li><strong>é—®é¢˜åŸå› </strong>: å†…è”onclickäº‹ä»¶å­˜åœ¨ä½œç”¨åŸŸé—®é¢˜</li>
            <li><strong>è§£å†³æ–¹æ¡ˆ</strong>: æ”¹ä¸ºäº‹ä»¶å§”æ‰˜æ¨¡å¼ + æ•°æ®å±æ€§ä¼ å‚</li>
            <li><strong>æ•°æ®ç±»å‹ä¿®å¤</strong>: ä½¿ç”¨æ¾æ•£æ¯”è¾ƒ(==)è€Œéä¸¥æ ¼æ¯”è¾ƒ(===)</li>
            <li><strong>è°ƒè¯•ä¿¡æ¯</strong>: æ·»åŠ è¯¦ç»†çš„æ§åˆ¶å°æ—¥å¿—</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ“‹ ä¿®æ”¹å‰åå¯¹æ¯”</h2>
        <h3>ä¿®æ”¹å‰ (æœ‰é—®é¢˜):</h3>
        <pre><code>&lt;button onclick="orderManager.viewOrder(${order.id})"&gt;æŸ¥çœ‹&lt;/button&gt;</code></pre>
        
        <h3>ä¿®æ”¹å (å·²ä¿®å¤):</h3>
        <pre><code>&lt;button data-action="view" data-id="${order.id}"&gt;æŸ¥çœ‹&lt;/button&gt;</code></pre>
    </div>

    <div class="test-section">
        <h2>ğŸ¯ æ–°å¢åŠŸèƒ½</h2>
        <h3>1. bindTableEvents() æ–¹æ³•</h3>
        <pre><code>bindTableEvents() {
    const tbody = document.querySelector('#ordersTable tbody');
    tbody.removeEventListener('click', this.handleTableClick);
    this.handleTableClick = this.handleTableClick.bind(this);
    tbody.addEventListener('click', this.handleTableClick);
}</code></pre>

        <h3>2. handleTableClick() æ–¹æ³•</h3>
        <pre><code>handleTableClick(e) {
    const button = e.target.closest('.action-btn');
    if (!button) return;
    
    const action = button.dataset.action;
    const id = parseInt(button.dataset.id);
    
    switch (action) {
        case 'view': this.viewOrder(id); break;
        case 'edit': this.editOrder(id); break;
        case 'delete': this.deleteOrder(id); break;
    }
}</code></pre>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š å—å½±å“çš„æ–‡ä»¶</h2>
        <table class="test-table">
            <thead>
                <tr>
                    <th>æ–‡ä»¶</th>
                    <th>ä¿®æ”¹ç±»å‹</th>
                    <th>çŠ¶æ€</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Web/js/modules/orderManager.js</td>
                    <td>äº‹ä»¶å§”æ‰˜ + è°ƒè¯•æ—¥å¿—</td>
                    <td class="status">âœ… å·²ä¿®å¤</td>
                </tr>
                <tr>
                    <td>Web/js/modules/userManager.js</td>
                    <td>äº‹ä»¶å§”æ‰˜ + è°ƒè¯•æ—¥å¿—</td>
                    <td class="status">âœ… å·²ä¿®å¤</td>
                </tr>
                <tr>
                    <td>Web/js/modules/productManager.js</td>
                    <td>äº‹ä»¶å§”æ‰˜ + è°ƒè¯•æ—¥å¿—</td>
                    <td class="status">âœ… å·²ä¿®å¤</td>
                </tr>
                <tr>
                    <td>Web/js/utils/formGenerator.js</td>
                    <td>è¡¨å•è¾“å…¥éªŒè¯ä¼˜åŒ–</td>
                    <td class="status">âœ… å·²ä¼˜åŒ–</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="test-section">
        <h2>ğŸ” è°ƒè¯•æ–¹æ³•</h2>
        <p>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ§åˆ¶å°ï¼Œç‚¹å‡»ä»»æ„è¡¨æ ¼æ“ä½œæŒ‰é’®ï¼Œåº”è¯¥çœ‹åˆ°ç±»ä¼¼æ—¥å¿—ï¼š</p>
        <pre><code>OrderManager: ç‚¹å‡»æŒ‰é’® {action: "edit", id: 1, currentData: 5}
EditOrder: æŸ¥æ‰¾è®¢å• {id: 1, currentData: Array(5)}
EditOrder: æ‰¾åˆ°è®¢å• {id: "1", customer_name: "å¼ ä¸‰", ...}</code></pre>
    </div>

    <div class="test-section">
        <h2>ğŸš€ é¢„æœŸç»“æœ</h2>
        <ul>
            <li>âœ… ç‚¹å‡»"æŸ¥çœ‹"æŒ‰é’® â†’ å¼¹å‡ºè¯¦æƒ…æ¨¡æ€æ¡†</li>
            <li>âœ… ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’® â†’ å¼¹å‡ºç¼–è¾‘è¡¨å•æ¨¡æ€æ¡†</li>
            <li>âœ… ç‚¹å‡»"åˆ é™¤"æŒ‰é’® â†’ æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†</li>
            <li>âœ… æ‰€æœ‰æ“ä½œéƒ½æœ‰æ§åˆ¶å°æ—¥å¿—è¾“å‡º</li>
            <li>âœ… æ•°æ®ç±»å‹å…¼å®¹æ€§é—®é¢˜å·²è§£å†³</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
        <ul>
            <li>ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ (DISP: 8080, AP: 8081)</li>
            <li>æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰JavaScripté”™è¯¯</li>
            <li>å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°è°ƒè¯•æ—¥å¿—</li>
            <li>ç¡®ä¿æ•°æ®å·²æˆåŠŸåŠ è½½åˆ°è¡¨æ ¼ä¸­</li>
        </ul>
    </div>

    <script>
        // ç®€å•çš„æµ‹è¯•è„šæœ¬
        document.addEventListener('DOMContentLoaded', function() {
            // console.log('æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            // console.log('ä¿®å¤å†…å®¹: äº‹ä»¶å§”æ‰˜ + æ•°æ®ç±»å‹å…¼å®¹ + è°ƒè¯•æ—¥å¿—');
            // console.log('è¯·åœ¨ä¸»é¡µé¢æµ‹è¯•æŒ‰é’®åŠŸèƒ½');
        });
    </script>
</body>
</html>